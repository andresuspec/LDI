<!DOCTYPE html>
<html>
<head>
    <title>Forge Viewer DWG</title>
    <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>
    <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" />
    <style>
        html, body, #forgeViewer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <div>ARCHIVO EN VIEWER</div>
    <div id="forgeViewer"></div>
    <script>
        const options = {
            env: 'AutodeskProduction',
            accessToken: '{{ token }}'
        };

        Autodesk.Viewing.Initializer(options, () => {
            const viewerDiv = document.getElementById('forgeViewer');
            const viewer = new Autodesk.Viewing.GuiViewer3D(viewerDiv);
            viewer.start();

            Autodesk.Viewing.Document.load(
                'urn:{{ urn }}',
                doc => {
                    const defaultModel = doc.getRoot().getDefaultGeometry();
                    viewer.loadDocumentNode(doc, defaultModel);
                },
                error => console.error(error)
            );
        });
    </script>
</body>
</html>
